<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hugo Image Processing Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .test-section {
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        background: #f9fafb;
      }
      .test-title {
        font-size: 1.5rem;
        font-weight: bold;
        color: #1f2937;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid #d1d5db;
      }
      .code-info {
        background: #1f2937;
        color: #f3f4f6;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
        font-family: monospace;
        font-size: 0.9rem;
      }
      .image-container {
        border: 1px dashed #9ca3af;
        padding: 10px;
        margin: 10px 0;
        background: white;
      }
    </style>
  </head>
  <body class="p-8 bg-gray-50">
    <h1 class="text-3xl font-bold text-gray-800 mb-8">
      Hugo Image Processing Test
    </h1>

    <!-- 1. Default / Local Image -->
    <div class="test-section">
      <h2 class="test-title">1. Default / Local Image</h2>
      <div class="code-info">src: "images/default-image.webp"</div>
      <div class="image-container">
        {{ partial "images/Image" (dict "src" "images/default-image.webp") }}
      </div>
    </div>

    <!-- 2. Remote Image -->
    <div class="test-section">
      <h2 class="test-title">2. Remote Image</h2>
      <div class="code-info">src: "https://picsum.photos/1080/720?1"</div>
      <div class="image-container">
        {{ partial "images/Image" (dict "src" "https://picsum.photos/1080/720?1") }}
      </div>
    </div>

    <!-- 3. Square Mode -->
    <div class="test-section">
      <h2 class="test-title">3. Square Mode</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?2", mode: "square", base: 400
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?2"
          "mode" "square"
          "base" 400
          "alt" "Square cropped image"
          )
        }}
      </div>
    </div>

    <!-- 4. Portrait Mode -->
    <div class="test-section">
      <h2 class="test-title">4. Portrait Mode</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?3", mode: "portrait", base: 300
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?3"
          "mode" "portrait"
          "base" 300
          "alt" "Portrait cropped image"
          )
        }}
      </div>
    </div>

    <!-- 5. Landscape Mode -->
    <div class="test-section">
      <h2 class="test-title">5. Landscape Mode</h2>
      <div class="code-info">
        src: "https://picsum.photos/720/1080?4", mode: "landscape", base: 400
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/720/1080?4"
          "mode" "landscape"
          "base" 400
          "alt" "Landscape cropped image"
          )
        }}
      </div>
    </div>

    <!-- 6. Smart Crop Mode -->
    <div class="test-section">
      <h2 class="test-title">6. Smart Crop Mode</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?5", mode: "smart", base: 350
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?5"
          "mode" "smart"
          "base" 350
          "alt" "Smart cropped image"
          )
        }}
      </div>
    </div>

    <!-- 7. Custom Widths -->
    <div class="test-section">
      <h2 class="test-title">7. Custom Widths</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?6", sizes: [200, 500, 800, 1200]
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?6"
          "sizes" (slice 200 500 800 1200)
          "alt" "Custom widths image"
          )
        }}
      </div>
    </div>

    <!-- 8. With Custom Class and Title -->
    <div class="test-section">
      <h2 class="test-title">8. With Custom Class and Title</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?7", class: "rounded-lg shadow-lg",
        title: "Beautiful random image"
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?7"
          "class" "rounded-lg shadow-lg border-2 border-blue-300"
          "title" "Beautiful random image from Picsum"
          "alt" "Styled image with title"
          )
        }}
      </div>
    </div>

    <!-- 9. Eager Loading -->
    <div class="test-section">
      <h2 class="test-title">9. Eager Loading (Above the fold)</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?8", loading: "eager"
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?8"
          "loading" "eager"
          "alt" "Eager loaded image"
          )
        }}
      </div>
    </div>

    <!-- 10. Custom Base Size -->
    <div class="test-section">
      <h2 class="test-title">10. Custom Base Size</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?9", base: 150, mode: "square"
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?9"
          "base" 150
          "mode" "square"
          "alt" "Small base size image"
          )
        }}
      </div>
    </div>

    <!-- 11. Combination Test -->
    <div class="test-section">
      <h2 class="test-title">11. Combination Test</h2>
      <div class="code-info">
        src: "https://picsum.photos/1080/720?10", mode: "smart", base: 250,
        class: "rounded-full", loading: "eager"
      </div>
      <div class="image-container">
        {{ partial "images/Image" (dict
          "src" "https://picsum.photos/1080/720?10"
          "mode" "smart"
          "base" 250
          "class" "rounded-full border-4 border-purple-400"
          "loading" "eager"
          "alt" "Combination test image"
          "title" "This is a circular smart-cropped image"
          )
        }}
      </div>
    </div>

    <!-- 12. Error Case Test (Non-existent local image) -->
    <div class="test-section">
      <h2 class="test-title">12. Error Case Test (Non-existent local image)</h2>
      <div class="code-info">src: "images/non-existent-image.jpg"</div>
      <div class="image-container bg-red-50 border-red-200">
        {{ partial "images/Image" (dict "src" "images/non-existent-image.jpg") }}
      </div>
    </div>

    {{/*  13. Invalid Remote URL Test
    <div class="test-section">
      <h2 class="test-title">13. Invalid Remote URL Test</h2>
      <div class="code-info">
        src: "https://invalid-domain-that-does-not-exist-12345.com/image.jpg"
      </div>
      <div class="image-container bg-red-50 border-red-200">
        {{ partial "images/Image" (dict "src" "https://invalid-domain-that-does-not-exist-12345.com/image.jpg") }}
      </div>
    </div>  */}}

    <script>
      // Log image loading information untuk debugging
      document.addEventListener("DOMContentLoaded", function () {
        const images = document.querySelectorAll("img");
        images.forEach((img) => {
          img.addEventListener("load", function () {
            console.log(
              "Image loaded:",
              this.src,
              "Size:",
              this.naturalWidth + "x" + this.naturalHeight,
            );
          });
          img.addEventListener("error", function () {
            console.warn("Image failed to load:", this.src);
          });
        });

        // Log picture element sources
        const pictures = document.querySelectorAll("picture");
        pictures.forEach((picture) => {
          const sources = picture.querySelectorAll("source");
          const img = picture.querySelector("img");
          console.log("Picture element:", {
            sources: Array.from(sources).map((s) => ({
              type: s.type,
              srcset: s.srcset,
              sizes: s.sizes,
            })),
            img: {
              src: img.src,
              width: img.width,
              height: img.height,
            },
          });
        });
      });
    </script>
  </body>
</html>
